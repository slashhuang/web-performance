## TCP慢启动
### TCP的向web开发者隐藏的网路通信细节
- 丢包发送
- 按序发送
- 拥塞控制及避免
- 数据完整

> TCP为精确发送做了优化，但并未过多顾及时间。
> 虽然我们一般不会直接使用TCP套接口，但是应用层的一些决定将会极大的影响TCP及底层网络的特性。

### TCP术语解释
- ACK: acknowledgement（确认接收）
- SYN: synchronous(TCP握手信号,起始分组序列号)
- DOS攻击: denial of service（发起非服务性的网络服务）


### TCP通信顺序
1. 启动通信: 客户端和服务器的三次握手(TCP,只有完成了这三步，客户端和服务器才有足够的信息完成数据接收和发送及映射关系)
2. 慢启动: 任何TCP连接都必须经过慢启动阶段，因此不可能一上来就完全利用最大带宽。
3. 拥塞预防及控制: 
    - 通过慢启动，达到最佳网络传输速率,不断调整拥塞窗口(cwnd)和接收窗口(rwnd)的大小，完成数据传输。
    - 通过丢包反馈机制调整拥塞窗口,进而消除丢包问题(目前最优的丢包恢复速度算法为PRR,是linux3.2+的默认预防算法)==》服务器层面的升级优化理由
    - 慢启动重启: 当连接在空闲一段时间之后，为应对不同的网络状况,拥塞窗口将重置回"安全"默认值。
> 结论其一： TCP连接吞吐量跟踪曲线呈锯齿状,即使客户端和服务器有高带宽，整个网络的传输速率依然会被流量/拥塞控制窗口的大小所限制。

### TCP优化建议【==》 降低延迟+增大吞吐量】
- 核心调整点
    1. TCP三次握手增加了整整一次网络往返时间
    2. TCP慢启动被应用到每个新连接
    3. TCP流量及拥塞控制会影响所有连接的吞吐量
    4. TCP吞吐量由当前拥塞窗口大小控制
- 服务器调整途径
    1. 服务器配置调优，在最新内核中实践最新的TCP算法
    2. 增大TCP的初始拥塞窗口（cwnd）
    3. 禁用慢启动重启
- 客户端调整途径
    1. 减少请求 (减少网络请求)
    2. 减少传输的物理距离(CDN)
    3. 重用TCP连接 (降低慢启动和其他拥塞机制的影响)
    
   
